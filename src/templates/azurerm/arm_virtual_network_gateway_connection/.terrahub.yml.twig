  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_virtual_network_gateway_connection:
        {{ name }}:
          type: var.{{ name }}_type
          name: var.{{ name }}_name
          virtual_network_gateway_id: var.{{ name }}_virtual_network_gateway_id
          # local_network_gateway_id: ''
          # routing_weight: 0
          # express_route_gateway_bypass: false
          # ipsec_policy: 
          #   -
          #     dh_group: ''
          #     ike_encryption: ''
          #     ike_integrity: ''
          #     ipsec_encryption: ''
          #     ipsec_integrity: ''
          #     pfs_group: ''
          #     sa_datasize: 0
          #     sa_lifetime: 0
          # tags: 
          #   '[TO_BE_REPLACED]': ''
          # express_route_circuit_id: ''
          # use_policy_based_traffic_selectors: false
          # authorization_key: ''
          # peer_virtual_network_gateway_id: ''
          # enable_bgp: false
          # shared_key: ''
    variable:
      {{ name }}_type:
        type: string
      {{ name }}_name:
        type: string
      {{ name }}_virtual_network_gateway_id:
        type: string
    output:
      id:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.id
      thub_id:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.id
      routing_weight:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.routing_weight
      express_route_gateway_bypass:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.express_route_gateway_bypass
      use_policy_based_traffic_selectors:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.use_policy_based_traffic_selectors
      enable_bgp:
        value: azurerm_arm_virtual_network_gateway_connection.{{ name }}.enable_bgp
