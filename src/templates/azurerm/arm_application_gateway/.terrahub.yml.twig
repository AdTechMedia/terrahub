  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_application_gateway:
        {{ name }}:
          request_routing_rule: 
            -
              http_listener_name: ''
              name: ''
              rule_type: ''
          #     backend_http_settings_name: ''
          #     url_path_map_name: ''
          #     backend_address_pool_name: ''
          #     redirect_configuration_name: ''
          #     rewrite_rule_set_name: ''
          backend_http_settings: 
            -
              port: 0
              cookie_based_affinity: ''
              protocol: ''
              name: ''
          #     affinity_cookie_name: ''
          #     pick_host_name_from_backend_address: false
          #     path: ''
          #     host_name: ''
          #     request_timeout: 0
          #     authentication_certificate: 
          #       -
          #         name: ''
          frontend_port: 
            -
              name: ''
              port: 0
          http_listener: 
            -
              frontend_ip_configuration_name: ''
              frontend_port_name: ''
              name: ''
              protocol: ''
          #     custom_error_configuration: 
          #       -
          #         status_code: ''
          #         custom_error_page_url: ''
          #     ssl_certificate_name: ''
          #     host_name: ''
          #     require_sni: false
          name: var.{{ name }}_name
          backend_address_pool: 
            -
              name: ''
          #     fqdns: 
          #       -
          #     ip_addresses: 
          #       -
          #     fqdn_list: []
          #     ip_address_list: []
          gateway_ip_configuration: 
            -
              name: ''
              subnet_id: ''
          resource_group_name: var.{{ name }}_resource_group_name
          sku: 
            -
              name: ''
              tier: ''
          #     capacity: 0
          frontend_ip_configuration: 
            -
              name: ''
          #     subnet_id: ''
          #     private_ip_address: ''
          #     public_ip_address_id: ''
          #     private_ip_address_allocation: ''
          # disabled_ssl_protocols: []
          # ssl_policy: 
          #   -
          #     disabled_protocols: 
          #       -
          #     policy_type: ''
          #     policy_name: ''
          #     cipher_suites: 
          #       -
          #     min_protocol_version: ''
          # probe: 
          #   -
          #     name: ''
          #     interval: 0
          #     unhealthy_threshold: 0
          #     protocol: ''
          #     path: ''
          #     timeout: 0
          #     host: ''
          #     minimum_servers: 0
          #     match: 
          #       -
          #         status_code: 
          #           -
          #         body: ''
          #     pick_host_name_from_backend_http_settings: false
          # rewrite_rule_set: 
          #   -
          #     name: ''
          #     rewrite_rule: 
          #       -
          #         name: ''
          #         rule_sequence: 0
          #         condition: 
          #           -
          #             variable: ''
          #             pattern: ''
          #             ignore_case: false
          #             negate: false
          #     response_header_configuration: 
          #       -
          #         header_value: ''
          #         header_name: ''
          # ssl_certificate: 
          #   -
          #     name: ''
          #     data: ''
          #     password: ''
          # redirect_configuration: 
          #   -
          #     name: ''
          #     redirect_type: ''
          #     target_url: ''
          #     include_path: false
          #     include_query_string: false
          #     target_listener_name: ''
          # authentication_certificate: 
          #   -
          #     name: ''
          #     data: ''
          # probe_name: ''
          # waf_configuration: 
          #   -
          #     enabled: false
          #     firewall_mode: ''
          #     rule_set_version: ''
          #     rule_set_type: ''
          #     file_upload_limit_mb: 0
          #     request_body_check: false
          #     max_request_body_size_kb: 0
          #     disabled_rule_group: 
          #       -
          #         rule_group_name: ''
          #         rules: 
          #           -
          # custom_error_configuration: 
          #   -
          #     status_code: ''
          #     custom_error_page_url: ''
          # autoscale_configuration: 
          #   -
          #     min_capacity: 0
          #     max_capacity: 0
          # tags: 
          #   '[TO_BE_REPLACED]': ''
          # url_path_map: 
          #   -
          #     path_rule: 
          #       -
          #         name: ''
          #         paths: []
          #         backend_http_settings_name: ''
          #         backend_address_pool_name: ''
          #         redirect_configuration_name: ''
          #         rewrite_rule_set_name: ''
          #     name: ''
          #     default_backend_http_settings_name: ''
          #     default_redirect_configuration_name: ''
          #     default_rewrite_rule_set_name: ''
          #     default_backend_address_pool_name: ''
          # enable_http2: false
    variable:
      {{ name }}_name:
        type: string
      {{ name }}_resource_group_name:
        type: string
    output:
      id:
        value: azurerm_arm_application_gateway.{{ name }}.id
      thub_id:
        value: azurerm_arm_application_gateway.{{ name }}.id
      disabled_ssl_protocols:
        value: azurerm_arm_application_gateway.{{ name }}.disabled_ssl_protocols
      ssl_policy:
        value: azurerm_arm_application_gateway.{{ name }}.ssl_policy
      probe_id:
        value: azurerm_arm_application_gateway.{{ name }}.probe_id
      id:
        value: azurerm_arm_application_gateway.{{ name }}.id
