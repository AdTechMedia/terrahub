  template:
    # terraform:
    #   backend:
    #     storage_account_name: 'abcd1234'
    #     container_name: 'tfstate'
    #     key: 'prod.terraform.tfstate'
    resource:
      azurerm_arm_virtual_machine:
        {{ name }}:
          network_interface_ids: var.{{ name }}_network_interface_ids
          vm_size: var.{{ name }}_vm_size
          name: var.{{ name }}_name
          storage_os_disk: 
            -
              create_option: ''
              name: ''
          #     managed_disk_type: ''
          #     write_accelerator_enabled: false
          #     os_type: ''
          #     managed_disk_id: ''
          #     image_uri: ''
          #     caching: ''
          #     disk_size_gb: 0
          #     vhd_uri: ''
          # primary_network_interface_id: ''
          # availability_set_id: ''
          # delete_data_disks_on_termination: false
          # os_profile_windows_config: 
          #   enable_automatic_upgrades: false
          #   timezone: ''
          #   winrm: 
          #     -
          #       protocol: ''
          #       certificate_url: ''
          #   provision_vm_agent: false
          # tags: 
          #   '[TO_BE_REPLACED]': ''
          # plan: 
          #   -
          #     name: ''
          #     publisher: ''
          #     product: ''
          # storage_image_reference: 
          #   offer: ''
          #   sku: ''
          #   version: ''
          #   id: ''
          #   publisher: ''
          # storage_data_disk: 
          #   -
          #     create_option: ''
          #     lun: 0
          #     name: ''
          #     write_accelerator_enabled: false
          #     vhd_uri: ''
          #     managed_disk_id: ''
          #     caching: ''
          #     disk_size_gb: 0
          #     managed_disk_type: ''
          # os_profile_secrets: 
          #   -
          #     source_vault_id: ''
          #     vault_certificates: 
          #       -
          #         certificate_url: ''
          #         certificate_store: ''
          # delete_os_disk_on_termination: false
          # os_profile_linux_config: 
          #   disable_password_authentication: false
          #   ssh_keys: 
          #     -
          #       path: ''
          #       key_data: ''
          # identity: 
          #   -
          #     type: ''
          #     identity_ids: 
          #       -
          # license_type: ''
          # boot_diagnostics: 
          #   -
          #     enabled: false
          #     storage_uri: ''
          # os_profile: 
          #   computer_name: ''
          #   admin_username: ''
          #   admin_password: ''
          #   custom_data: ''
    variable:
      {{ name }}_network_interface_ids:
        type: list
      {{ name }}_vm_size:
        type: string
      {{ name }}_name:
        type: string
    output:
      id:
        value: azurerm_arm_virtual_machine.{{ name }}.id
      thub_id:
        value: azurerm_arm_virtual_machine.{{ name }}.id
      availability_set_id:
        value: azurerm_arm_virtual_machine.{{ name }}.availability_set_id
      storage_image_reference:
        value: azurerm_arm_virtual_machine.{{ name }}.storage_image_reference
      storage_data_disk:
        value: azurerm_arm_virtual_machine.{{ name }}.storage_data_disk
      identity:
        value: azurerm_arm_virtual_machine.{{ name }}.identity
      license_type:
        value: azurerm_arm_virtual_machine.{{ name }}.license_type
